{"ast":null,"code":"import _slicedToArray from\"C:/Users/Rahul/Desktop/AJAS/web/MyCart/paradiso/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import'./ProductView.css';import{useParams}from'react-router-dom';import axios from'../../Constants/axios';import{BASE_URL}from'../../Constants/config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ProductView(){var param=useParams();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),images=_useState4[0],setImages=_useState4[1];var rupeeFormatter=new Intl.NumberFormat(\"en-IN\",{style:\"currency\",currency:\"INR\"});useEffect(function(){axios.defaults.xsrfCookieName=\"csrftoken\";axios.defaults.xsrfHeaderName=\"X-CSRFToken\";axios.get(\"shop/product/\".concat(param.id)).then(function(response){var data=response.data;setProduct(data);setImages(data.productimage_set);return data;});},[param.id]);var addToCart=function addToCart(){axios.post(\"shop/add-to-cart/\".concat(param.id)).then(function(response){console.log(response.data);});};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:product&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"on-top image-section col-lg-6 col-md-12 col-sm-12\",children:images.map(function(image){return/*#__PURE__*/_jsx(\"img\",{src:BASE_URL+image.image,alt:\"\"},image.id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"detailes col-lg-6 col-md-12 col-sm-12\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"on-top prod-title m-3\",children:product.name}),/*#__PURE__*/_jsx(\"h5\",{className:\"on-top\",children:rupeeFormatter.format(product.price)}),/*#__PURE__*/_jsx(\"p\",{className:\"prod-description\",children:product.description}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark m-2\",children:\"Buy Now\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark m-2\",onClick:addToCart,children:\"Add to Cart\"})]})]})});}export default ProductView;","map":{"version":3,"names":["React","useEffect","useState","useParams","axios","BASE_URL","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductView","param","_useState","_useState2","_slicedToArray","product","setProduct","_useState3","_useState4","images","setImages","rupeeFormatter","Intl","NumberFormat","style","currency","defaults","xsrfCookieName","xsrfHeaderName","get","concat","id","then","response","data","productimage_set","addToCart","post","console","log","className","children","map","image","src","alt","name","format","price","description","onClick"],"sources":["C:/Users/Rahul/Desktop/AJAS/web/MyCart/paradiso/frontend/src/Pages/ProductView/ProductView.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport './ProductView.css'\r\nimport { useParams } from 'react-router-dom'\r\nimport axios from '../../Constants/axios'\r\n\r\nimport { BASE_URL } from '../../Constants/config'\r\n\r\n\r\nfunction ProductView() {\r\n    const param = useParams()\r\n    const [product, setProduct] = useState(null)\r\n    const [images, setImages] = useState(null)\r\n\r\n    const rupeeFormatter = new Intl.NumberFormat(\"en-IN\", {\r\n      style: \"currency\",\r\n      currency: \"INR\",\r\n    });\r\n\r\n    useEffect(() => {\r\n          axios.defaults.xsrfCookieName = \"csrftoken\";\r\n          axios.defaults.xsrfHeaderName = \"X-CSRFToken\";\r\n        axios.get(`shop/product/${param.id}`).then((response)=>{\r\n         const data = response.data\r\n            setProduct(data)\r\n            setImages(data.productimage_set)\r\n            return  data\r\n        })\r\n    },[param.id])\r\n\r\n    const addToCart = () => {\r\n      axios.post(`shop/add-to-cart/${param.id}`).then((response) => {\r\n        console.log(response.data);\r\n      })\r\n    }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {product && (\r\n        <>\r\n          <div className=\"on-top image-section col-lg-6 col-md-12 col-sm-12\">\r\n            {images.map((image) => {\r\n              return <img key={image.id} src={BASE_URL + image.image} alt=\"\" />;\r\n            })}\r\n          </div>\r\n          <div className=\"detailes col-lg-6 col-md-12 col-sm-12\">\r\n            <h1 className=\"on-top prod-title m-3\">{product.name}</h1>\r\n            <h5 className=\"on-top\">{rupeeFormatter.format(product.price)}</h5>\r\n\r\n            <p className=\"prod-description\">{product.description}</p>\r\n\r\n            <button className=\"btn btn-outline-dark m-2\">Buy Now</button>\r\n            <button className=\"btn btn-outline-dark m-2\" onClick={addToCart}>Add to Cart</button>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductView"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}