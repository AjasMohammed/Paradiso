{"ast":null,"code":"import _slicedToArray from\"C:/Users/Rahul/Desktop/AJAS/web/MyCart/paradiso/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import\"./ProductView.css\";import{useParams}from\"react-router-dom\";import axios from\"../../Constants/axios\";import{BASE_URL}from\"../../Constants/config\";import{Heart}from\"lucide-react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ProductView(){var param=useParams();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),images=_useState4[0],setImages=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isFavorite=_useState6[0],setIsFavorite=_useState6[1];var rupeeFormatter=new Intl.NumberFormat(\"en-IN\",{style:\"currency\",currency:\"INR\"});useEffect(function(){axios.defaults.xsrfCookieName=\"csrftoken\";axios.defaults.xsrfHeaderName=\"X-CSRFToken\";axios.get(\"shop/product/\".concat(param.id)).then(function(response){var data=response.data;setProduct(data);setImages(data.productimage_set);});axios.get(\"shop/view-favorite/\".concat(param.id)).then(function(response){setIsFavorite(response.data);},[param.id]);var addToCart=function addToCart(){axios.post(\"shop/add-to-cart/\".concat(param.id)).then(function(response){console.log(response.data);});};useEffect(function(){addToFavorite();});},[isFavorite]);var addToFavorite=function addToFavorite(){if(isFavorite==false){axios.post(\"shop/remove-from-favorite/\".concat(param.id)).then(function(response){return console.log(response.data);});}else if(isFavorite==true){axios.post(\"shop/add-to-favorite/\".concat(param.id)).then(function(response){return console.log(response.data);});}};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:product&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"on-top image-section col-lg-6 col-md-12 col-sm-12\",children:images.map(function(image){return/*#__PURE__*/_jsx(\"img\",{src:BASE_URL+image.image,alt:\"\"},image.id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"detailes col-lg-6 col-md-12 col-sm-12\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"on-top prod-title m-3\",children:product.name}),/*#__PURE__*/_jsx(\"h5\",{className:\"on-top\",children:rupeeFormatter.format(product.price)}),/*#__PURE__*/_jsx(\"p\",{className:\"prod-description\",children:product.description}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark m-2\",children:\"Buy Now\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark m-2\",onClick:addToCart,children:\"Add to Cart\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn fav-btn m-2\",children:/*#__PURE__*/_jsx(Heart,{className:isFavorite?\"heart-icon\":\"\",color:\"black\",onClick:function onClick(){return setIsFavorite(!isFavorite);}})})]})]})});}export default ProductView;","map":{"version":3,"names":["React","useEffect","useState","useParams","axios","BASE_URL","Heart","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductView","param","_useState","_useState2","_slicedToArray","product","setProduct","_useState3","_useState4","images","setImages","_useState5","_useState6","isFavorite","setIsFavorite","rupeeFormatter","Intl","NumberFormat","style","currency","defaults","xsrfCookieName","xsrfHeaderName","get","concat","id","then","response","data","productimage_set","addToCart","post","console","log","addToFavorite","className","children","map","image","src","alt","name","format","price","description","onClick","color"],"sources":["C:/Users/Rahul/Desktop/AJAS/web/MyCart/paradiso/frontend/src/Pages/ProductView/ProductView.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./ProductView.css\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"../../Constants/axios\";\r\n\r\nimport { BASE_URL } from \"../../Constants/config\";\r\n\r\nimport { Heart } from \"lucide-react\";\r\n\r\nfunction ProductView() {\r\n  const param = useParams();\r\n  const [product, setProduct] = useState(null);\r\n  const [images, setImages] = useState(null);\r\n  const [isFavorite, setIsFavorite] = useState(false);\r\n\r\n  const rupeeFormatter = new Intl.NumberFormat(\"en-IN\", {\r\n    style: \"currency\",\r\n    currency: \"INR\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    axios.defaults.xsrfCookieName = \"csrftoken\";\r\n    axios.defaults.xsrfHeaderName = \"X-CSRFToken\";\r\n    axios.get(`shop/product/${param.id}`).then((response) => {\r\n      const data = response.data;\r\n      setProduct(data);\r\n      setImages(data.productimage_set);\r\n    });\r\n    axios.get(`shop/view-favorite/${param.id}`).then(\r\n      (response) => {\r\n        setIsFavorite(response.data);\r\n      },\r\n      [param.id]\r\n    );\r\n\r\n\r\n  const addToCart = () => {\r\n    axios.post(`shop/add-to-cart/${param.id}`).then((response) => {\r\n      console.log(response.data);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    addToFavorite()\r\n    })\r\n\r\n  }, [isFavorite]);\r\n\r\n  const addToFavorite = () => {\r\n    if (isFavorite == false) {\r\n      axios\r\n        .post(`shop/remove-from-favorite/${param.id}`)\r\n        .then((response) => console.log(response.data));\r\n    } else if (isFavorite == true) {\r\n      axios\r\n        .post(`shop/add-to-favorite/${param.id}`)\r\n        .then((response) => console.log(response.data));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {product && (\r\n        <>\r\n          <div className=\"on-top image-section col-lg-6 col-md-12 col-sm-12\">\r\n            {images.map((image) => {\r\n              return <img key={image.id} src={BASE_URL + image.image} alt=\"\" />;\r\n            })}\r\n          </div>\r\n          <div className=\"detailes col-lg-6 col-md-12 col-sm-12\">\r\n            <h1 className=\"on-top prod-title m-3\">{product.name}</h1>\r\n            <h5 className=\"on-top\">{rupeeFormatter.format(product.price)}</h5>\r\n\r\n            <p className=\"prod-description\">{product.description}</p>\r\n\r\n            <button className=\"btn btn-outline-dark m-2\">Buy Now</button>\r\n            <button className=\"btn btn-outline-dark m-2\" onClick={addToCart}>\r\n              Add to Cart\r\n            </button>\r\n            <button className=\"btn fav-btn m-2\">\r\n              <Heart\r\n                className={isFavorite ? \"heart-icon\" : \"\"}\r\n                color=\"black\"\r\n                onClick={() => setIsFavorite(!isFavorite)}\r\n              />\r\n            </button>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductView;\r\n"],"mappings":"8IAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,mBAAmB,CAC1B,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,MAAO,CAAAC,KAAK,KAAM,uBAAuB,CAEzC,OAASC,QAAQ,KAAQ,wBAAwB,CAEjD,OAASC,KAAK,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAErC,QAAS,CAAAC,WAAWA,CAAA,CAAG,CACrB,GAAM,CAAAC,KAAK,CAAGX,SAAS,CAAC,CAAC,CACzB,IAAAY,SAAA,CAA8Bb,QAAQ,CAAC,IAAI,CAAC,CAAAc,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAC1B,IAAAI,UAAA,CAA4BlB,QAAQ,CAAC,IAAI,CAAC,CAAAmB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAnCE,MAAM,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IACxB,IAAAG,UAAA,CAAoCtB,QAAQ,CAAC,KAAK,CAAC,CAAAuB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAA5CE,UAAU,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAEhC,GAAM,CAAAG,cAAc,CAAG,GAAI,CAAAC,IAAI,CAACC,YAAY,CAAC,OAAO,CAAE,CACpDC,KAAK,CAAE,UAAU,CACjBC,QAAQ,CAAE,KACZ,CAAC,CAAC,CAEF/B,SAAS,CAAC,UAAM,CACdG,KAAK,CAAC6B,QAAQ,CAACC,cAAc,CAAG,WAAW,CAC3C9B,KAAK,CAAC6B,QAAQ,CAACE,cAAc,CAAG,aAAa,CAC7C/B,KAAK,CAACgC,GAAG,iBAAAC,MAAA,CAAiBvB,KAAK,CAACwB,EAAE,CAAE,CAAC,CAACC,IAAI,CAAC,SAACC,QAAQ,CAAK,CACvD,GAAM,CAAAC,IAAI,CAAGD,QAAQ,CAACC,IAAI,CAC1BtB,UAAU,CAACsB,IAAI,CAAC,CAChBlB,SAAS,CAACkB,IAAI,CAACC,gBAAgB,CAAC,CAClC,CAAC,CAAC,CACFtC,KAAK,CAACgC,GAAG,uBAAAC,MAAA,CAAuBvB,KAAK,CAACwB,EAAE,CAAE,CAAC,CAACC,IAAI,CAC9C,SAACC,QAAQ,CAAK,CACZb,aAAa,CAACa,QAAQ,CAACC,IAAI,CAAC,CAC9B,CAAC,CACD,CAAC3B,KAAK,CAACwB,EAAE,CACX,CAAC,CAGH,GAAM,CAAAK,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,CAAS,CACtBvC,KAAK,CAACwC,IAAI,qBAAAP,MAAA,CAAqBvB,KAAK,CAACwB,EAAE,CAAE,CAAC,CAACC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAC5DK,OAAO,CAACC,GAAG,CAACN,QAAQ,CAACC,IAAI,CAAC,CAC5B,CAAC,CAAC,CACJ,CAAC,CAEDxC,SAAS,CAAC,UAAM,CACd8C,aAAa,CAAC,CAAC,CACf,CAAC,CAAC,CAEJ,CAAC,CAAE,CAACrB,UAAU,CAAC,CAAC,CAEhB,GAAM,CAAAqB,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CAC1B,GAAIrB,UAAU,EAAI,KAAK,CAAE,CACvBtB,KAAK,CACFwC,IAAI,8BAAAP,MAAA,CAA8BvB,KAAK,CAACwB,EAAE,CAAE,CAAC,CAC7CC,IAAI,CAAC,SAACC,QAAQ,QAAK,CAAAK,OAAO,CAACC,GAAG,CAACN,QAAQ,CAACC,IAAI,CAAC,GAAC,CACnD,CAAC,IAAM,IAAIf,UAAU,EAAI,IAAI,CAAE,CAC7BtB,KAAK,CACFwC,IAAI,yBAAAP,MAAA,CAAyBvB,KAAK,CAACwB,EAAE,CAAE,CAAC,CACxCC,IAAI,CAAC,SAACC,QAAQ,QAAK,CAAAK,OAAO,CAACC,GAAG,CAACN,QAAQ,CAACC,IAAI,CAAC,GAAC,CACnD,CACF,CAAC,CAED,mBACEjC,IAAA,QAAKwC,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvB/B,OAAO,eACNR,KAAA,CAAAE,SAAA,EAAAqC,QAAA,eACEzC,IAAA,QAAKwC,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAC/D3B,MAAM,CAAC4B,GAAG,CAAC,SAACC,KAAK,CAAK,CACrB,mBAAO3C,IAAA,QAAoB4C,GAAG,CAAE/C,QAAQ,CAAG8C,KAAK,CAACA,KAAM,CAACE,GAAG,CAAC,EAAE,EAA7CF,KAAK,CAACb,EAAyC,CAAC,CACnE,CAAC,CAAC,CACC,CAAC,cACN5B,KAAA,QAAKsC,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDzC,IAAA,OAAIwC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAE/B,OAAO,CAACoC,IAAI,CAAK,CAAC,cACzD9C,IAAA,OAAIwC,SAAS,CAAC,QAAQ,CAAAC,QAAA,CAAErB,cAAc,CAAC2B,MAAM,CAACrC,OAAO,CAACsC,KAAK,CAAC,CAAK,CAAC,cAElEhD,IAAA,MAAGwC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAE/B,OAAO,CAACuC,WAAW,CAAI,CAAC,cAEzDjD,IAAA,WAAQwC,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CAAC,SAAO,CAAQ,CAAC,cAC7DzC,IAAA,WAAQwC,SAAS,CAAC,0BAA0B,CAACU,OAAO,CAAEf,SAAU,CAAAM,QAAA,CAAC,aAEjE,CAAQ,CAAC,cACTzC,IAAA,WAAQwC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cACjCzC,IAAA,CAACF,KAAK,EACJ0C,SAAS,CAAEtB,UAAU,CAAG,YAAY,CAAG,EAAG,CAC1CiC,KAAK,CAAC,OAAO,CACbD,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAA/B,aAAa,CAAC,CAACD,UAAU,CAAC,EAAC,CAC3C,CAAC,CACI,CAAC,EACN,CAAC,EACN,CACH,CACE,CAAC,CAEV,CAEA,cAAe,CAAAb,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}