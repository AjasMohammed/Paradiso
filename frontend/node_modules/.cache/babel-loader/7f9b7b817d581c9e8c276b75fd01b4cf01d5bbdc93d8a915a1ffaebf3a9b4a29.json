{"ast":null,"code":"import _slicedToArray from\"C:/Users/Rahul/Desktop/AJAS/web/MyCart/paradiso/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import\"./ProductView.css\";import{useParams}from\"react-router-dom\";import axios from\"../../Constants/axios\";import{BASE_URL}from\"../../Constants/config\";import{Heart}from\"lucide-react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ProductView(){var param=useParams();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),images=_useState4[0],setImages=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),isFavorite=_useState6[0],setIsFavorite=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),inCart=_useState8[0],setInCart=_useState8[1];var rupeeFormatter=new Intl.NumberFormat(\"en-IN\",{style:\"currency\",currency:\"INR\"});useEffect(function(){axios.defaults.xsrfCookieName=\"csrftoken\";axios.defaults.xsrfHeaderName=\"X-CSRFToken\";axios.get(\"shop/product/\".concat(param.id)).then(function(response){var data=response.data;setProduct(data);setImages(data.productimage_set);});axios.get(\"shop/view-favorite/id=\".concat(param.id)).then(function(response){setIsFavorite(response.data);console.log(response.data);});axios.get(\"shop/check-in-cart/\".concat(param.id)).then(function(response){setInCart(response.data);console.log(response.data);});},[param.id]);var addToCart=function addToCart(){axios.post(\"shop/add-to-cart/\".concat(param.id)).then(function(response){console.log(response.data);setInCart(true);});};var removeFromCart=function removeFromCart(){axios.post(\"shop/remove-from-cart/\".concat(param.id)).then(function(response){console.log(response.data);setInCart(false);});};useEffect(function(){addToFavorite();},[isFavorite]);var addToFavorite=function addToFavorite(){if(isFavorite==false){axios.post(\"shop/remove-from-favorite/\".concat(param.id)).then(function(response){return console.log(response.data);});}else if(isFavorite==true){axios.post(\"shop/add-to-favorite/\".concat(param.id)).then(function(response){return console.log(response.data);});}};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:product&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"on-top image-section col-lg-6 col-md-12 col-sm-12\",children:images.map(function(image){return/*#__PURE__*/_jsx(\"img\",{src:BASE_URL+image.image,alt:\"\"},image.id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"detailes col-lg-6 col-md-12 col-sm-12\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"on-top prod-title m-3\",children:product.name}),/*#__PURE__*/_jsx(\"h5\",{className:\"on-top\",children:rupeeFormatter.format(product.price)}),/*#__PURE__*/_jsx(\"p\",{className:\"prod-description\",children:product.description}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark m-2\",children:\"Buy Now\"}),inCart==false?/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark m-2\",onClick:addToCart,children:\"Add to Cart\"}):/*#__PURE__*/_jsx(\"button\",{className:\"del-btn btn btn-outline-dark m-2\",onClick:removeFromCart,children:\"Remove From Cart\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn fav-btn m-2\",children:/*#__PURE__*/_jsx(Heart,{className:isFavorite?\"heart-icon\":\"\",color:\"black\",onClick:function onClick(){return setIsFavorite(!isFavorite);}})})]})]})});}export default ProductView;","map":{"version":3,"names":["React","useEffect","useState","useParams","axios","BASE_URL","Heart","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductView","param","_useState","_useState2","_slicedToArray","product","setProduct","_useState3","_useState4","images","setImages","_useState5","_useState6","isFavorite","setIsFavorite","_useState7","_useState8","inCart","setInCart","rupeeFormatter","Intl","NumberFormat","style","currency","defaults","xsrfCookieName","xsrfHeaderName","get","concat","id","then","response","data","productimage_set","console","log","addToCart","post","removeFromCart","addToFavorite","className","children","map","image","src","alt","name","format","price","description","onClick","color"],"sources":["C:/Users/Rahul/Desktop/AJAS/web/MyCart/paradiso/frontend/src/Pages/ProductView/ProductView.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./ProductView.css\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"../../Constants/axios\";\r\n\r\nimport { BASE_URL } from \"../../Constants/config\";\r\n\r\nimport { Heart } from \"lucide-react\";\r\n\r\nfunction ProductView() {\r\n  const param = useParams();\r\n  const [product, setProduct] = useState(null);\r\n  const [images, setImages] = useState(null);\r\n  const [isFavorite, setIsFavorite] = useState(null);\r\n  const [inCart, setInCart] = useState(null);\r\n\r\n  const rupeeFormatter = new Intl.NumberFormat(\"en-IN\", {\r\n    style: \"currency\",\r\n    currency: \"INR\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    axios.defaults.xsrfCookieName = \"csrftoken\";\r\n    axios.defaults.xsrfHeaderName = \"X-CSRFToken\";\r\n    axios.get(`shop/product/${param.id}`).then((response) => {\r\n      const data = response.data;\r\n      setProduct(data);\r\n      setImages(data.productimage_set);\r\n    });\r\n    axios.get(`shop/view-favorite/id=${param.id}`).then((response) => {\r\n      setIsFavorite(response.data);\r\n      console.log(response.data);\r\n    });\r\n\r\n    axios.get(`shop/check-in-cart/${param.id}`).then((response) => {\r\n      setInCart(response.data);\r\n      console.log(response.data);\r\n    });\r\n  }, [param.id]);\r\n\r\n  const addToCart = () => {\r\n    axios.post(`shop/add-to-cart/${param.id}`).then((response) => {\r\n      console.log(response.data);\r\n      setInCart(true);\r\n    });\r\n  };\r\n  const removeFromCart = () => {\r\n    axios.post(`shop/remove-from-cart/${param.id}`).then((response) => {\r\n      console.log(response.data);\r\n      setInCart(false)\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    addToFavorite();\r\n  }, [isFavorite]);\r\n\r\n \r\n\r\n  const addToFavorite = () => {\r\n    if (isFavorite == false) {\r\n      axios\r\n        .post(`shop/remove-from-favorite/${param.id}`)\r\n        .then((response) => console.log(response.data));\r\n    } else if (isFavorite == true) {\r\n      axios\r\n        .post(`shop/add-to-favorite/${param.id}`)\r\n        .then((response) => console.log(response.data));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {product && (\r\n        <>\r\n          <div className=\"on-top image-section col-lg-6 col-md-12 col-sm-12\">\r\n            {images.map((image) => {\r\n              return <img key={image.id} src={BASE_URL + image.image} alt=\"\" />;\r\n            })}\r\n          </div>\r\n          <div className=\"detailes col-lg-6 col-md-12 col-sm-12\">\r\n            <h1 className=\"on-top prod-title m-3\">{product.name}</h1>\r\n            <h5 className=\"on-top\">{rupeeFormatter.format(product.price)}</h5>\r\n\r\n            <p className=\"prod-description\">{product.description}</p>\r\n\r\n            <button className=\"btn btn-outline-dark m-2\">Buy Now</button>\r\n            {inCart == false ? (\r\n              <button className=\"btn btn-outline-dark m-2\" onClick={addToCart}>\r\n                Add to Cart\r\n              </button>\r\n            ) : (\r\n              <button className=\"del-btn btn btn-outline-dark m-2\" onClick={removeFromCart}>\r\n                Remove From Cart\r\n              </button>\r\n            )}\r\n            <button className=\"btn fav-btn m-2\">\r\n              <Heart\r\n                className={isFavorite ? \"heart-icon\" : \"\"}\r\n                color=\"black\"\r\n                onClick={() => setIsFavorite(!isFavorite)}\r\n              />\r\n            </button>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductView;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}