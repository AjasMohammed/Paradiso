{"ast":null,"code":"import _slicedToArray from\"C:/Users/Rahul/Desktop/AJAS/web/MyCart/paradiso/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef,useContext,useEffect}from\"react\";import\"./NavBar.css\";import{userContext,authContext}from\"../../Store/Context\";import{Link}from\"react-router-dom\";import axios from\"../../Constants/axios\";import{ShoppingCart,UserCircle,Heart}from\"lucide-react\";import{Tooltip}from\"react-tooltip\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function NavBar(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),hambtn=_useState2[0],setHambtn=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),cartItems=_useState4[0],setCartItems=_useState4[1];var expandMenu=useRef(null);var expandMid=useRef(null);var hamBtn=useRef(null);var _useContext=useContext(userContext),user=_useContext.user;var _useContext2=useContext(authContext),setAuth=_useContext2.setAuth;var expand=function expand(){setHambtn(!hambtn);var win=window.innerWidth;if(hambtn===true){if(win<=800){expandMid.current.classList.add(\"expand\");}else{expandMenu.current.classList.add(\"expand\");}hamBtn.current.classList.add(\"close-btn\");}else{expandMenu.current.classList.remove(\"expand\");expandMid.current.classList.remove(\"expand\");hamBtn.current.classList.remove(\"close-btn\");}};var handleClick=function handleClick(e){var btnClicked=e.target.text.toLowerCase();setAuth(btnClicked);};useEffect(function(){if(user==true){axios.get(\"shop/get-cart-items/true\").then(function(response){var data=response.data;var count=data.count;setCartItems(count);});}});var logOut=function logOut(){axios.defaults.xsrfCookieName=\"csrftoken\";axios.defaults.xsrfHeaderName=\"X-CSRFToken\";axios.post('auth/logout/').then(function(response){return console.log(response.data);});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"hamburger-btn\",ref:hamBtn,onClick:expand,children:[/*#__PURE__*/_jsx(\"span\",{className:\"line\"}),/*#__PURE__*/_jsx(\"span\",{className:\"line\"}),/*#__PURE__*/_jsx(\"span\",{className:\"line\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Paradiso\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mid\",ref:expandMid,children:[/*#__PURE__*/_jsx(\"div\",{className:\"menu\",ref:expandMenu,children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{className:\"line-effect\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"HOME\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"line-effect\",children:/*#__PURE__*/_jsx(Link,{to:\"/shop\",children:\"SHOP\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"line-effect\",children:/*#__PURE__*/_jsx(Link,{to:\"#\",children:\"CONTACT\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"line-effect\",children:/*#__PURE__*/_jsx(Link,{to:\"#\",children:\"ABOUT\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-area\",children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",className:\"search-field\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"inp-field\",placeholder:\"Search Products\"}),/*#__PURE__*/_jsx(\"button\",{className:\"search-btn\",type:\"submit\",children:\"SEARCH\"})]})})]}),user==true?/*#__PURE__*/_jsxs(\"div\",{className:\"profile\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"wish-list\",children:/*#__PURE__*/_jsx(Link,{to:\"/favorites/\",children:/*#__PURE__*/_jsx(Heart,{})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart\",children:[cartItems>0?/*#__PURE__*/_jsx(\"span\",{className:\"cart-items\",children:cartItems}):null,/*#__PURE__*/_jsx(Link,{to:\"/cart/\",children:/*#__PURE__*/_jsx(ShoppingCart,{})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-info\",children:[/*#__PURE__*/_jsx(\"button\",{\"data-tooltip-id\":\"profile-btn\",className:\"profile-btn\",children:/*#__PURE__*/_jsx(UserCircle,{size:30,strokeWidth:1.5})}),/*#__PURE__*/_jsx(Tooltip,{className:\"profile-tooltip\",clickable:true,id:\"profile-btn\",openOnClick:true,content:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark\",onClick:logOut,children:\"Logout\"})})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"auth-btn profile\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark\",children:/*#__PURE__*/_jsx(Link,{to:\"/auth/register\",className:\"auth-user-btn\",onClick:handleClick,children:\"SignUp\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark\",children:/*#__PURE__*/_jsx(Link,{to:\"/auth/register\",className:\"auth-user-btn\",onClick:handleClick,children:\"LogIn\"})})]})]})});}export default NavBar;","map":{"version":3,"names":["React","useState","useRef","useContext","useEffect","userContext","authContext","Link","axios","ShoppingCart","UserCircle","Heart","Tooltip","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NavBar","_useState","_useState2","_slicedToArray","hambtn","setHambtn","_useState3","_useState4","cartItems","setCartItems","expandMenu","expandMid","hamBtn","_useContext","user","_useContext2","setAuth","expand","win","window","innerWidth","current","classList","add","remove","handleClick","e","btnClicked","target","text","toLowerCase","get","then","response","data","count","logOut","defaults","xsrfCookieName","xsrfHeaderName","post","console","log","children","className","ref","onClick","to","action","type","placeholder","size","strokeWidth","clickable","id","openOnClick","content"],"sources":["C:/Users/Rahul/Desktop/AJAS/web/MyCart/paradiso/frontend/src/Components/Navbar/NavBar.jsx"],"sourcesContent":["import React, { useState, useRef, useContext, useEffect } from \"react\";\r\nimport \"./NavBar.css\";\r\nimport { userContext, authContext } from \"../../Store/Context\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"../../Constants/axios\";\r\n\r\nimport { ShoppingCart, UserCircle, Heart } from \"lucide-react\";\r\nimport { Tooltip } from \"react-tooltip\";\r\n\r\nfunction NavBar() {\r\n  const [hambtn, setHambtn] = useState(false);\r\n  const [cartItems, setCartItems] = useState(0);\r\n\r\n  const expandMenu = useRef(null);\r\n  const expandMid = useRef(null);\r\n  const hamBtn = useRef(null);\r\n\r\n  const { user } = useContext(userContext);\r\n  const { setAuth } = useContext(authContext);\r\n\r\n  const expand = () => {\r\n    setHambtn(!hambtn);\r\n    const win = window.innerWidth;\r\n    if (hambtn === true) {\r\n      if (win <= 800) {\r\n        expandMid.current.classList.add(\"expand\");\r\n      } else {\r\n        expandMenu.current.classList.add(\"expand\");\r\n      }\r\n      hamBtn.current.classList.add(\"close-btn\");\r\n    } else {\r\n      expandMenu.current.classList.remove(\"expand\");\r\n      expandMid.current.classList.remove(\"expand\");\r\n      hamBtn.current.classList.remove(\"close-btn\");\r\n    }\r\n  };\r\n\r\n  const handleClick = (e) => {\r\n    const btnClicked = e.target.text.toLowerCase();\r\n    setAuth(btnClicked);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (user == true) {\r\n      axios.get(\"shop/get-cart-items/true\").then((response) => {\r\n        let data = response.data;\r\n        const { count } = data;\r\n        setCartItems(count);\r\n      });\r\n    }\r\n  });\r\n\r\n  const logOut = () => {\r\n        axios.defaults.xsrfCookieName = \"csrftoken\";\r\n        axios.defaults.xsrfHeaderName = \"X-CSRFToken\";\r\n    axios.post('auth/logout/').then((response)=>console.log(response.data))\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <nav>\r\n        <div className=\"hamburger-btn\" ref={hamBtn} onClick={expand}>\r\n          <span className=\"line\"></span>\r\n          <span className=\"line\"></span>\r\n          <span className=\"line\"></span>\r\n        </div>\r\n        <div className=\"logo\">\r\n          <h3>Paradiso</h3>\r\n        </div>\r\n        <div className=\"mid\" ref={expandMid}>\r\n          <div className=\"menu\" ref={expandMenu}>\r\n            <ul>\r\n              <li className=\"line-effect\">\r\n                <Link to=\"/\">HOME</Link>\r\n              </li>\r\n              <li className=\"line-effect\">\r\n                <Link to=\"/shop\">SHOP</Link>\r\n              </li>\r\n              <li className=\"line-effect\">\r\n                <Link to=\"#\">CONTACT</Link>\r\n              </li>\r\n              <li className=\"line-effect\">\r\n                <Link to=\"#\">ABOUT</Link>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n\r\n          <div className=\"form-area\">\r\n            <form action=\"\" className=\"search-field\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"inp-field\"\r\n                placeholder=\"Search Products\"\r\n              />\r\n              <button className=\"search-btn\" type=\"submit\">\r\n                SEARCH\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n\r\n        {user == true ? (\r\n          <div className=\"profile\">\r\n            <div className=\"wish-list\">\r\n              <Link to=\"/favorites/\">\r\n                {/* <i className=\"fa-regular fa-heart fa-xl\"></i> */}\r\n                <Heart />\r\n              </Link>\r\n            </div>\r\n            <div className=\"cart\">\r\n              {cartItems > 0 ? (\r\n                <span className=\"cart-items\">{cartItems}</span>\r\n              ) : null}\r\n              <Link to=\"/cart/\">\r\n                {/* <i className=\"fa-solid fa-cart-shopping fa-xl\"></i> */}\r\n                <ShoppingCart />\r\n              </Link>\r\n            </div>\r\n            <div className=\"profile-info\">\r\n              {/* <i className=\"fa-regular fa-user fa-xl\"></i> */}\r\n              <button data-tooltip-id=\"profile-btn\" className=\"profile-btn\">\r\n                <UserCircle size={30} strokeWidth={1.5} />\r\n              </button>\r\n              <Tooltip\r\n              className=\"profile-tooltip\"\r\n                clickable\r\n                id=\"profile-btn\"\r\n                openOnClick\r\n                content={<button className=\"btn btn-dark\" onClick={logOut}>Logout</button>}\r\n              />\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"auth-btn profile\">\r\n            <button className=\"btn btn-dark\">\r\n              <Link\r\n                to=\"/auth/register\"\r\n                className=\"auth-user-btn\"\r\n                onClick={handleClick}\r\n              >\r\n                SignUp\r\n              </Link>\r\n            </button>\r\n            <button className=\"btn btn-dark\">\r\n              <Link\r\n                to=\"/auth/register\"\r\n                className=\"auth-user-btn\"\r\n                onClick={handleClick}\r\n              >\r\n                LogIn\r\n              </Link>\r\n            </button>\r\n          </div>\r\n        )}\r\n      </nav>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default NavBar;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}